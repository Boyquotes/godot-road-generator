[gd_scene load_steps=8 format=2]

[ext_resource path="res://addons/road-generator/road_point.gd" type="Script" id=1]
[ext_resource path="res://addons/road-generator/road_network.gd" type="Script" id=2]
[ext_resource path="res://addons/road-generator/road_texture.material" type="Material" id=3]
[ext_resource path="res://demo.gd" type="Script" id=4]

[sub_resource type="Curve3D" id=4]
bake_interval = 0.75
_data = {
"points": PoolVector3Array( -0.81198, 0, -4.93363, 0.81198, 0, 4.93363, 0, 0, 0, -2.36798, 0, -4.40371, 2.36798, 0, 4.40371, 7.02664, 0.44382, 22.6306 ),
"tilts": PoolRealArray( 0, 0 )
}

[sub_resource type="BoxShape" id=2]

[sub_resource type="CubeMesh" id=3]

[node name="Spatial" type="Spatial"]
script = ExtResource( 4 )

[node name="RoadNetwork" type="Node" parent="."]
script = ExtResource( 2 )
material_resource = ExtResource( 3 )
density = 1.5
use_lowpoly_preview = true
points = NodePath("points")
segments = NodePath("segments")
debug_prior = NodePath("debug_prior")
debug_next = NodePath("debug_next")
debug = true

[node name="points" type="Node" parent="RoadNetwork"]

[node name="first_point" type="Spatial" parent="RoadNetwork/points"]
script = ExtResource( 1 )
lanes = [ 5, 4, 3, 2 ]
traffic_dir = [ 2, 1, 1, 1 ]
gutter_profile = Vector2( 1, -1 )
next_pt_init = NodePath("../second_point")
prior_mag = 8.65464
next_mag = 20.1777

[node name="second_point" type="Spatial" parent="RoadNetwork/points"]
transform = Transform( 0.999999, 0, 0, 0, 1, 0, 0, 0, 0.999999, 0, 0, 20 )
script = ExtResource( 1 )
lanes = [ 5, 4, 3, 2 ]
traffic_dir = [ 2, 1, 1, 1 ]
gutter_profile = Vector2( 0.5, -1 )
prior_pt_init = NodePath("../first_point")
next_pt_init = NodePath("../third_point")
prior_mag = 11.0325
next_mag = 12.8194

[node name="third_point" type="Spatial" parent="RoadNetwork/points"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 40 )
script = ExtResource( 1 )
lanes = [ 5, 4, 2 ]
traffic_dir = [ 2, 1, 1 ]
gutter_profile = Vector2( 0.5, -1 )
prior_pt_init = NodePath("../second_point")
prior_mag = 10.0

[node name="segments" type="Node" parent="RoadNetwork"]

[node name="debug_prior" type="Path" parent="RoadNetwork"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.598, 1.91547, -11.95 )
curve = SubResource( 4 )

[node name="debug_next" type="Path" parent="RoadNetwork"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.598, 1.91547, -11.95 )
visible = false
curve = SubResource( 4 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, 11.7931, 31.3969, 9.17629 )

[node name="RigidBody" type="RigidBody" parent="."]
transform = Transform( 0.985076, -0.172118, 0, 0.163502, 0.935763, 0.312434, -0.0537757, -0.307772, 0.949939, 5.43023, 5.1977, -8.82278 )

[node name="CollisionShape" type="CollisionShape" parent="RigidBody"]
shape = SubResource( 2 )

[node name="MeshInstance" type="MeshInstance" parent="RigidBody"]
transform = Transform( 1, -1.30385e-08, -3.72529e-09, 5.58794e-09, 1, -2.98023e-08, -3.72529e-09, 0, 1, 0, 0, 0 )
mesh = SubResource( 3 )

[node name="Tween" type="Tween" parent="."]
